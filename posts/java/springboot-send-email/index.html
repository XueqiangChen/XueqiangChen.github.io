<!doctype html><html lang=zh-CN><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>Spring Boot 发送邮件 - Aha Moment</title><meta name=Description content="软件工程师"><meta property="og:title" content="Spring Boot 发送邮件"><meta property="og:description" content="简单邮件传输协议 (SMTP) 是一种以电子方式传输邮件的标准通信协议。 SMTP 使从应用程序内部发送邮件消息成为可能。
在本教程中，我们将使用 SMTP 和 Spring Boot 从我们的应用程序发送邮件消息。"><meta property="og:type" content="article"><meta property="og:url" content="https://ahamoment.cn/posts/java/springboot-send-email/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-09-08T14:47:54+08:00"><meta property="article:modified_time" content="2021-09-08T14:47:54+08:00"><meta property="og:site_name" content="Aha Moment"><meta name=twitter:card content="summary"><meta name=twitter:title content="Spring Boot 发送邮件"><meta name=twitter:description content="简单邮件传输协议 (SMTP) 是一种以电子方式传输邮件的标准通信协议。 SMTP 使从应用程序内部发送邮件消息成为可能。
在本教程中，我们将使用 SMTP 和 Spring Boot 从我们的应用程序发送邮件消息。"><meta name=application-name content="Aha Moment!"><meta name=apple-mobile-web-app-title content="Aha Moment!"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://ahamoment.cn/posts/java/springboot-send-email/><link rel=prev href=https://ahamoment.cn/posts/linux/linux-commands/><link rel=next href=https://ahamoment.cn/posts/bigdata/olap/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Spring Boot 发送邮件","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/ahamoment.cn\/posts\/java\/springboot-send-email\/"},"genre":"posts","keywords":"Mail, SpringBoot","wordcount":2247,"url":"https:\/\/ahamoment.cn\/posts\/java\/springboot-send-email\/","datePublished":"2021-09-08T14:47:54+08:00","dateModified":"2021-09-08T14:47:54+08:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"xueqiang.chen"},"description":""}</script></head><body data-header-desktop=auto data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Aha Moment">Aha Moment!</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>文章 </a><a class=menu-item href=/tags/>标签 </a><a class=menu-item href=/categories/>分类 </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder=搜索文章标题或内容 id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Aha Moment">Aha Moment!</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=搜索文章标题或内容 id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/posts/ title>文章</a><a class=menu-item href=/tags/ title>标签</a><a class=menu-item href=/categories/ title>分类</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Spring Boot 发送邮件</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://ahamoment.cn title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>xueqiang.chen</a></span>&nbsp;<span class=post-category>included in <a href=/categories/spring/><i class="far fa-folder fa-fw" aria-hidden=true></i>Spring</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2021-09-08>2021-09-08</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;2247 words&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;5 minutes&nbsp;</div></div><div class=featured-image><img class=lazyload src=/svg/loading.min.svg data-src=https://chenxqblog-1258795182.cos.ap-guangzhou.myqcloud.com/typora/spring-mail.jpg data-srcset="https://chenxqblog-1258795182.cos.ap-guangzhou.myqcloud.com/typora/spring-mail.jpg, https://chenxqblog-1258795182.cos.ap-guangzhou.myqcloud.com/typora/spring-mail.jpg 1.5x, https://chenxqblog-1258795182.cos.ap-guangzhou.myqcloud.com/typora/spring-mail.jpg 2x" data-sizes=auto alt=https://chenxqblog-1258795182.cos.ap-guangzhou.myqcloud.com/typora/spring-mail.jpg title=https://chenxqblog-1258795182.cos.ap-guangzhou.myqcloud.com/typora/spring-mail.jpg></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#1-maven-依赖>1. Maven 依赖</a></li><li><a href=#2-spring-mail-服务简介>2. Spring Mail 服务简介</a></li><li><a href=#3-邮件服务配置>3. 邮件服务配置</a></li><li><a href=#4-发送邮件>4. 发送邮件</a><ul><li><a href=#41-发送简单邮件>4.1 发送简单邮件</a></li><li><a href=#42-发送附件邮件>4.2 发送附件邮件</a></li><li><a href=#43-发送模板邮件>4.3 发送模板邮件</a></li></ul></li><li><a href=#5-测试邮件发送服务>5. 测试邮件发送服务</a></li><li><a href=#6-总结>6. 总结</a></li><li><a href=#7-参考文章>7. 参考文章</a></li></ul></nav></div></div><div class=content id=content><p>简单邮件传输协议 (SMTP) 是一种以电子方式传输邮件的标准通信协议。 SMTP 使从应用程序内部发送邮件消息成为可能。
在本教程中，我们将使用 SMTP 和 Spring Boot 从我们的应用程序发送邮件消息。</p><h2 id=1-maven-依赖>1. Maven 依赖</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=c>&lt;!--mail--&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;dependency&gt;</span>
</span></span><span class=line><span class=cl>	<span class=nt>&lt;groupId&gt;</span>org.springframework.boot<span class=nt>&lt;/groupId&gt;</span>
</span></span><span class=line><span class=cl>	<span class=nt>&lt;artifactId&gt;</span>spring-boot-starter-mail<span class=nt>&lt;/artifactId&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/dependency&gt;</span>
</span></span></code></pre></div><blockquote><p>如果需要指定版本，也可以从<a href=https://mvnrepository.com/ target=_blank rel="noopener noreffer">mvn repo</a>中找到你需要的版本号。</p></blockquote><h2 id=2-spring-mail-服务简介>2. Spring Mail 服务简介</h2><p><a href=https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/integration.html#mail target=_blank rel="noopener noreffer">Spring mail</a> 是Spring 框架提供的一个程序库，用于发送电子邮件，使我们不受底层邮件系统的限制，只关注客户端进行资源处理。Spring mail 包的内容如下：</p><p><img class=lazyload src=/svg/loading.min.svg data-src="https://img-blog.csdnimg.cn/20200320200922102.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N4cTIxMTE1MDQxMDQ=,size_16,color_FFFFFF,t_70" data-srcset="https://img-blog.csdnimg.cn/20200320200922102.png?x-oss-process=image/watermark%2ctype_ZmFuZ3poZW5naGVpdGk%2cshadow_10%2ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N4cTIxMTE1MDQxMDQ=%2csize_16%2ccolor_FFFFFF%2ct_70, https://img-blog.csdnimg.cn/20200320200922102.png?x-oss-process=image/watermark%2ctype_ZmFuZ3poZW5naGVpdGk%2cshadow_10%2ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N4cTIxMTE1MDQxMDQ=%2csize_16%2ccolor_FFFFFF%2ct_70 1.5x, https://img-blog.csdnimg.cn/20200320200922102.png?x-oss-process=image/watermark%2ctype_ZmFuZ3poZW5naGVpdGk%2cshadow_10%2ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N4cTIxMTE1MDQxMDQ=%2csize_16%2ccolor_FFFFFF%2ct_70 2x" data-sizes=auto alt="https://img-blog.csdnimg.cn/20200320200922102.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N4cTIxMTE1MDQxMDQ=,size_16,color_FFFFFF,t_70" title=在这里插入图片描述></p><ul><li><code>MailSender</code> 接口：核心接口，提供用于发送简单电子邮件的基本功能。</li><li><code>JavaMailSender</code> 接口：上述MailSender的子接口。它支持MIME消息，并且通常与MimeMessageHelper类结合使用以创建MimeMessage。</li><li><code>JavaMailSenderImpl</code>类：提供JavaMailSender接口的实现。它支持MimeMessage和SimpleMailMessage。</li><li><code>SimpleMailMessage</code>类：用于创建简单的邮件，包括<code>from</code>(发送者)，<code>to</code>(接收者)，<code>cc</code>(抄送)，<code>subject</code>(主题)和<code>text</code>(文本)等字段。</li><li><code>MimeMessagePreparator</code>接口：提供用于接收MIME消息的回调接口。</li><li><code>MimeMessageHelper</code>类：用于创建MIME消息的帮助器类。它提供在HTML布局中对图像，典型邮件附件和文本内容的支持。</li></ul><h2 id=3-邮件服务配置>3. 邮件服务配置</h2><p>引入maven依赖之后，下一步就是使用<code>spring.mail.*</code>namespace 在 <code>application.properties</code> 文件中配置邮件服务。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>spring</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>mail</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c>#字符集编码 默认 UTF-8</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>default-encoding</span><span class=p>:</span><span class=w> </span><span class=l>UTF-8</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c>#邮件服务器的地址：例如smtp.qq.com,smtp.gmail.com,端口：25/465/587</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=l>localhost</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c>#登陆服务器的用户名和密码</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>username</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>password</span><span class=p>:</span><span class=w> </span><span class=l>password</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>port</span><span class=p>:</span><span class=w> </span><span class=m>25</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>properties</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>mail</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>debug</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>smtp</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>debug</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>auth</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c>#启用tls连接</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>starttls</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># smtp 服务器需要身份验证，所以要配置用户密码</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>protocol</span><span class=p>:</span><span class=w> </span><span class=l>smtp</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>test-connection</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span></code></pre></div><p>当我们的邮件服务是SSL安全连接的时候，我们需要添加ssl相关的信息：</p><pre><code>spring:
  mail:
    host: localhost
    port: 465
    username: username
    password: password
    properties:
      mail:
        smtp:
          auth: true
          ssl:
            enable: true
            trust: smtp.gmail.com
</code></pre><p><code>trust: smtp.gmail.com</code> 这个配置可以让我们避免一些关于PKIX路径错误的报错，不需要添加证书到java的security文件中，否则会报下面的这种错误：</p><pre><code>Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target
    at sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:196)
    at java.security.cert.CertPathBuilder.build(CertPathBuilder.java:268)
    at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:380)
    ... 29 more
</code></pre><p>当然不同的邮件服务器的配置有一些细微的差异，具体的可以参考<a href=https://zhuanlan.zhihu.com/p/102823326 title="Spring Boot 发送邮件全解析" target=_blank rel="noopener noreffer">Spring Boot 发送邮件全解析</a>这篇文章。</p><h2 id=4-发送邮件>4. 发送邮件</h2><h3 id=41-发送简单邮件>4.1 发送简单邮件</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Service</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>MailServiceImpl</span> <span class=kd>implements</span> <span class=n>MailService</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Autowired</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>JavaMailSender</span> <span class=n>javaMailSender</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>sendSimpleMessage</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>SimpleMailMessage</span> <span class=n>message</span> <span class=o>=</span> <span class=k>new</span> <span class=n>SimpleMailMessage</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>message</span><span class=o>.</span><span class=na>setFrom</span><span class=o>(</span><span class=s>&#34;abc@qq.com&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>message</span><span class=o>.</span><span class=na>setTo</span><span class=o>(</span><span class=s>&#34;efd@qq.com&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>message</span><span class=o>.</span><span class=na>setSubject</span><span class=o>(</span><span class=s>&#34;Test send simple mail message&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>message</span><span class=o>.</span><span class=na>setText</span><span class=o>(</span><span class=s>&#34;Hello world!&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>javaMailSender</span><span class=o>.</span><span class=na>send</span><span class=o>(</span><span class=n>message</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><h3 id=42-发送附件邮件>4.2 发送附件邮件</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl> <span class=err>@Override</span>
</span></span><span class=line><span class=cl>    <span class=err>public</span> <span class=err>void</span> <span class=err>sendMessageWithAttachment()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=err>MimeMessage</span> <span class=err>message</span> <span class=err>=</span> <span class=err>javaMailSender.createMimeMessage();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=err>try</span> <span class=err>{</span>
</span></span><span class=line><span class=cl>            <span class=err>MimeMessageHelper</span> <span class=err>helper</span> <span class=err>=</span> <span class=err>new</span> <span class=err>MimeMessageHelper(message,</span> <span class=err>true);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=err>helper.setTo(</span><span class=nt>&#34;to@qq.com&#34;</span><span class=err>);</span>
</span></span><span class=line><span class=cl>            <span class=err>helper.setFrom(</span><span class=s2>&#34;from@qq.com&#34;</span><span class=err>);</span>
</span></span><span class=line><span class=cl>            <span class=err>helper.setSubject(</span><span class=s2>&#34;Send attachment file to email&#34;</span><span class=err>);</span>
</span></span><span class=line><span class=cl>            <span class=err>helper.setText(</span><span class=s2>&#34;attachment file...&#34;</span><span class=err>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=err>FileSystemResource</span> <span class=err>file</span> <span class=err>=</span> <span class=err>new</span> <span class=err>FileSystemResource(new</span> <span class=err>File(</span><span class=s2>&#34;Absolute path&#34;</span><span class=err>));</span>
</span></span><span class=line><span class=cl>            <span class=err>helper.addAttachment(</span><span class=s2>&#34;Invoice&#34;</span><span class=p>,</span> <span class=err>file);</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>			<span class=err>javaMailSender.send(message);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span> <span class=err>catch</span> <span class=err>(MessagingException</span> <span class=err>ex)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=err>logger.error(</span><span class=nt>&#34;Failed to send email to. error={}&#34;</span><span class=p>,</span> <span class=err>ex.getMessage());</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=err>}</span>
</span></span></code></pre></div><h3 id=43-发送模板邮件>4.3 发送模板邮件</h3><p>Spring 中可以作为邮件模板的有几个选择：Velocity，Freemarker，Thymeleaf。 SpringBoot 1.4.0以后 Velocity 废弃了，官方建议用Freemarker。而Thymeleaf的效率没有freemaker高(评测见参考文章【4】）。</p><blockquote><p>Freemarker 的语法可以参考官网的手册:https://freemarker.apache.org/docs/index.html
中文手册：https://sourceforge.net/projects/freemarker/files/chinese-manual/</p></blockquote><p>同样，我们先引入 Freemarker 的 Maven 依赖。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;dependency&gt;</span>
</span></span><span class=line><span class=cl>	<span class=nt>&lt;groupId&gt;</span>org.springframework.boot<span class=nt>&lt;/groupId&gt;</span>
</span></span><span class=line><span class=cl>	<span class=nt>&lt;artifactId&gt;</span>spring-boot-starter-freemarker<span class=nt>&lt;/artifactId&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/dependency&gt;</span>
</span></span></code></pre></div><p>然后在项目的 <code>/resoource/templates</code> 目录下添加一个 Freemarker 模板文件 <code>notification.flt</code>。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;</span>Hello world!<span class=p>&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>h1</span><span class=p>&gt;</span>Hello<span class=p>&lt;/</span><span class=nt>h1</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;</span>My name is ${name}<span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl> <span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span></code></pre></div><p>在 SpringBoot 的配置文件中加上 Freemarker 的相关配置：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>spring</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>freemarker</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>template-loader-path</span><span class=p>:</span><span class=w> </span><span class=l>classpath:/templates/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>cache</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>charset</span><span class=p>:</span><span class=w> </span><span class=l>UTF-8</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>content-type</span><span class=p>:</span><span class=w> </span><span class=l>text/html</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>check-template-location</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span></code></pre></div><p>在 <code>EmailServiceImpl</code> 中使用 Freemarker 模板发送邮件：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Service</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>MailServiceImpl</span> <span class=kd>implements</span> <span class=n>MailService</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kd>static</span> <span class=kd>final</span> <span class=n>Logger</span> <span class=n>logger</span> <span class=o>=</span> <span class=n>LoggerFactory</span><span class=o>.</span><span class=na>getLogger</span><span class=o>(</span><span class=n>MailServiceImpl</span><span class=o>.</span><span class=na>class</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Autowired</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>JavaMailSender</span> <span class=n>javaMailSender</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Autowired</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>FreeMarkerConfigurer</span> <span class=n>freeMarkerConfigurer</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>sendMessageWithFreemarkerTemplate</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>MimeMessage</span> <span class=n>message</span> <span class=o>=</span> <span class=n>javaMailSender</span><span class=o>.</span><span class=na>createMimeMessage</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>try</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>MimeMessageHelper</span> <span class=n>helper</span> <span class=o>=</span> <span class=k>new</span> <span class=n>MimeMessageHelper</span><span class=o>(</span><span class=n>message</span><span class=o>,</span> <span class=kc>true</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=n>helper</span><span class=o>.</span><span class=na>setTo</span><span class=o>(</span><span class=s>&#34;to@qq.com&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=n>helper</span><span class=o>.</span><span class=na>setFrom</span><span class=o>(</span><span class=s>&#34;from@qq.com&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=n>helper</span><span class=o>.</span><span class=na>setSubject</span><span class=o>(</span><span class=s>&#34;Send freemarker template to email&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=n>HashMap</span><span class=o>&lt;</span><span class=n>String</span><span class=o>,</span> <span class=n>Object</span><span class=o>&gt;</span> <span class=n>models</span> <span class=o>=</span> <span class=k>new</span> <span class=n>HashMap</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl>            <span class=n>models</span><span class=o>.</span><span class=na>put</span><span class=o>(</span><span class=s>&#34;name&#34;</span><span class=o>,</span> <span class=s>&#34;freemarker&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=n>Template</span> <span class=n>template</span> <span class=o>=</span> <span class=n>freeMarkerConfigurer</span><span class=o>.</span><span class=na>getConfiguration</span><span class=o>().</span><span class=na>getTemplate</span><span class=o>(</span><span class=s>&#34;notification.flt&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=n>String</span> <span class=n>text</span> <span class=o>=</span> <span class=n>FreeMarkerTemplateUtils</span><span class=o>.</span><span class=na>processTemplateIntoString</span><span class=o>(</span><span class=n>template</span><span class=o>,</span> <span class=n>models</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=n>helper</span><span class=o>.</span><span class=na>setText</span><span class=o>(</span><span class=n>text</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=n>javaMailSender</span><span class=o>.</span><span class=na>send</span><span class=o>(</span><span class=n>message</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span> <span class=k>catch</span> <span class=o>(</span><span class=n>Exception</span> <span class=n>ex</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>logger</span><span class=o>.</span><span class=na>error</span><span class=o>(</span><span class=s>&#34;Failed to send email to. error={}&#34;</span><span class=o>,</span> <span class=n>ex</span><span class=o>.</span><span class=na>getMessage</span><span class=o>());</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>至此实现了三中方式：纯文本，富文本(图片/附件)，Freemarker模版的邮件发送功能，接下来就来测试一下我们的邮件是否能发送出去吧。</p><h2 id=5-测试邮件发送服务>5. 测试邮件发送服务</h2><p>我们为了测试邮件服务的发送功能，暂时可以先不用使用真正的邮件服务器，而是换成<a href=http://www.icegreen.com/greenmail/ target=_blank rel="noopener noreffer">GreenMail</a>。
GreenMail是用于测试目的的电子邮件服务器，可以用于邮件集成测试或用于开发的轻量级沙盒邮件服务器。具体的使用方法可以参考官网上的<a href=https://github.com/greenmail-mail-test/greenmail/tree/master/greenmail-core/src/test/java/com/icegreen/greenmail/examples target=_blank rel="noopener noreffer">用例</a>。</p><p>这里先引入GreenMail 的Maven依赖：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;dependency&gt;</span>
</span></span><span class=line><span class=cl>	<span class=nt>&lt;groupId&gt;</span>com.icegreen<span class=nt>&lt;/groupId&gt;</span>
</span></span><span class=line><span class=cl>	<span class=nt>&lt;artifactId&gt;</span>greenmail<span class=nt>&lt;/artifactId&gt;</span>
</span></span><span class=line><span class=cl>	<span class=nt>&lt;version&gt;</span>1.5.11<span class=nt>&lt;/version&gt;</span>
</span></span><span class=line><span class=cl>	<span class=nt>&lt;scope&gt;</span>test<span class=nt>&lt;/scope&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/dependency&gt;</span>
</span></span></code></pre></div><p>在Spring boot 的测试文件(application-test.yaml)中配置用于邮件服务的相关属性。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>spring</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>mail</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>default-encoding</span><span class=p>:</span><span class=w> </span><span class=l>UTF-8</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=l>localhost</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>username</span><span class=p>:</span><span class=w> </span><span class=l>abc@qq.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>password</span><span class=p>:</span><span class=w> </span><span class=l>password</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>port</span><span class=p>:</span><span class=w> </span><span class=m>3025</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>properties</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>mail</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>debug</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>smtp</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>debug</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>auth</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>starttls</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>protocol</span><span class=p>:</span><span class=w> </span><span class=l>smtp</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>test-connection</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span></code></pre></div><p>我们创建一个自定义的 JUnit Rule 来初始化和停止GreenMail邮件服务器。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>SmtpServerRule</span> <span class=kd>extends</span> <span class=n>ExternalResource</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=err>#</span> <span class=n>设置发送邮件服务的用户的用户名</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kd>static</span> <span class=kd>final</span> <span class=n>String</span> <span class=n>USER_PASSWORD</span> <span class=o>=</span> <span class=s>&#34;password&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=err>#</span> <span class=n>设置发送邮件服务用户的密码</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kd>static</span> <span class=kd>final</span> <span class=n>String</span> <span class=n>USER_NAME</span> <span class=o>=</span> <span class=s>&#34;abc@qq.com&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>GreenMail</span> <span class=n>smtpServer</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>protected</span> <span class=kt>void</span> <span class=nf>before</span><span class=o>()</span> <span class=kd>throws</span> <span class=n>Throwable</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>super</span><span class=o>.</span><span class=na>before</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>smtpServer</span> <span class=o>=</span> <span class=k>new</span> <span class=n>GreenMail</span><span class=o>(</span><span class=n>ServerSetupTest</span><span class=o>.</span><span class=na>SMTP</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>smtpServer</span><span class=o>.</span><span class=na>start</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=c1>// setup user on the mail server
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>smtpServer</span><span class=o>.</span><span class=na>setUser</span><span class=o>(</span><span class=n>USER_NAME</span><span class=o>,</span> <span class=n>USER_PASSWORD</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>MimeMessage</span><span class=o>[]</span> <span class=nf>getMessage</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>smtpServer</span><span class=o>.</span><span class=na>getReceivedMessages</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>protected</span> <span class=kt>void</span> <span class=nf>after</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>super</span><span class=o>.</span><span class=na>after</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>smtpServer</span><span class=o>.</span><span class=na>stop</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>然后就可以开始写我们的测试用例了。
我们使用JUnit @Rule注解配置SmtpServerRule。这标记了在每个集成测试之前和之后要调用的自定义规则。并允许我们拦截传入的电子邮件。最后，我们做出一些断言并验证发送的电子邮件是否等于接收的电子邮件。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@ActiveProfiles</span><span class=o>(</span><span class=s>&#34;test&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=nd>@SpringBootTest</span><span class=o>(</span><span class=n>webEnvironment</span> <span class=o>=</span> <span class=n>SpringBootTest</span><span class=o>.</span><span class=na>WebEnvironment</span><span class=o>.</span><span class=na>RANDOM_PORT</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=nd>@RunWith</span><span class=o>(</span><span class=n>SpringRunner</span><span class=o>.</span><span class=na>class</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>MailServiceImplTest</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Rule</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>SmtpServerRule</span> <span class=n>smtpServerRule</span> <span class=o>=</span> <span class=k>new</span> <span class=n>SmtpServerRule</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Autowired</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>MailService</span> <span class=n>mailService</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Test</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>sendSimpleMessage</span><span class=o>()</span> <span class=kd>throws</span> <span class=n>MessagingException</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>mailService</span><span class=o>.</span><span class=na>sendSimpleMessage</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>MimeMessage</span><span class=o>[]</span> <span class=n>messages</span> <span class=o>=</span> <span class=n>smtpServerRule</span><span class=o>.</span><span class=na>getMessage</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>assertEquals</span><span class=o>(</span><span class=s>&#34;Test send simple mail message&#34;</span><span class=o>,</span> <span class=n>messages</span><span class=o>[</span><span class=n>0</span><span class=o>].</span><span class=na>getSubject</span><span class=o>());</span>
</span></span><span class=line><span class=cl>        <span class=n>assertEquals</span><span class=o>(</span><span class=s>&#34;abc@qq.com&#34;</span><span class=o>,</span> <span class=n>messages</span><span class=o>[</span><span class=n>0</span><span class=o>].</span><span class=na>getFrom</span><span class=o>()[</span><span class=n>0</span><span class=o>].</span><span class=na>toString</span><span class=o>());</span>
</span></span><span class=line><span class=cl>        <span class=n>assertEquals</span><span class=o>(</span><span class=s>&#34;efd@qq.com&#34;</span><span class=o>,</span> <span class=n>messages</span><span class=o>[</span><span class=n>0</span><span class=o>].</span><span class=na>getAllRecipients</span><span class=o>()[</span><span class=n>0</span><span class=o>].</span><span class=na>toString</span><span class=o>());</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>另外的两种邮件参考上面的代码实现。</p><h2 id=6-总结>6. 总结</h2><p>在这篇文章中，我们展示了如何通过Spring Boot应用程序设置和发送电子邮件。所有这些示例和代码片段的实现都可以在<a href=https://github.com/XueqiangChen/footmark target=_blank rel="noopener noreffer">MyGitHub</a>项目中找到。</p><h2 id=7-参考文章>7. 参考文章</h2><p>【1】<a href=https://blog.codeleak.pl/2014/09/testing-mail-code-in-spring-boot.html target=_blank rel="noopener noreffer">Testing mail code in Spring Boot application</a></p><p>【2】<a href=https://memorynotfound.com/spring-mail-integration-testing-junit-greenmail-example/ target=_blank rel="noopener noreffer">Spring Mail Integration Testing with JUnit and GreenMail Example</a></p><p>【3】<a href=https://www.baeldung.com/spring-email target=_blank rel="noopener noreffer">Guide to Spring Email</a></p><p>【4】<a href="https://blog.52itstyle.vip/archives/1264/?spm=a2c4e.10696291.0.0.621d19a4VEN4S9" target=_blank rel="noopener noreffer">SpringBoot开发案例之整合mail发送服务</a></p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2021-09-08</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://ahamoment.cn/posts/java/springboot-send-email/ data-title="Spring Boot 发送邮件" data-via=xueqiang_chen data-hashtags=Mail,SpringBoot><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://ahamoment.cn/posts/java/springboot-send-email/ data-hashtag=Mail><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Hacker News" data-sharer=hackernews data-url=https://ahamoment.cn/posts/java/springboot-send-email/ data-title="Spring Boot 发送邮件"><i class="fab fa-hacker-news fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Line" data-sharer=line data-url=https://ahamoment.cn/posts/java/springboot-send-email/ data-title="Spring Boot 发送邮件"><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg aria-hidden=true></i></a><a href=javascript:void(0); title="Share on 微博" data-sharer=weibo data-url=https://ahamoment.cn/posts/java/springboot-send-email/ data-title="Spring Boot 发送邮件" data-image=https://chenxqblog-1258795182.cos.ap-guangzhou.myqcloud.com/typora/spring-mail.jpg data-ralateuid=陈先森cxq><i class="fab fa-weibo fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Evernote" data-sharer=evernote data-url=https://ahamoment.cn/posts/java/springboot-send-email/ data-title="Spring Boot 发送邮件"><i class="fab fa-evernote fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/mail/>Mail</a>,&nbsp;<a href=/tags/springboot/>SpringBoot</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/linux/linux-commands/ class=prev rel=prev title="Linux 常用命令"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>Linux 常用命令</a>
<a href=/posts/bigdata/olap/ class=next rel=next title=OLAP概述>OLAP概述<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div><div id=comments><div id=utterances class=comment></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://utteranc.es/>utterances</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2019 - 2023</span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css><script type=text/javascript src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/algoliasearch@4.13.1/dist/algoliasearch-lite.umd.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/twemoji@14.0.2/dist/twemoji.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/copy-tex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/mhchem.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:50},comment:{utterances:{darkTheme:"github-dark",issueTerm:"pathname",label:"",lightTheme:"github-light",repo:"XueqiangChen/hugo-comments"}},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{algoliaAppID:"RCJ4GYIB7J",algoliaIndex:"ahamoment",algoliaSearchKey:"3f4bed7c2af5c9695da27d5432f662e9",highlightTag:"em",maxResultLength:10,noResultsFound:"No results found",snippetLength:50,type:"algolia"},twemoji:!0}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>